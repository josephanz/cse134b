function getDefaultImages(){var a=Parse.Object.extend("Icons"),b=new Parse.Query(a);b.find({success:function(a){$(".success").show();for(var b=a.length,c=0;b>c;c++){var d=a[c];images[c]=a[c],console.log("hi"+d.get("icon"))}},error:function(a,b){$(".error").show()}})}function selectImage(a){for(var b=document.getElementsByClassName("icon"),c=0;c<b.length;c++)b[c].style.border="3px inset rgba(0,0,0,0)";var d=document.getElementById(a);switch(d.style.border="3px inset #999999",a){case"icon1":imageForIcon=images[0].get("icon"),notAnewFile=!0;break;case"icon2":imageForIcon=images[1].get("icon"),notAnewFile=!0;break;case"newicon":imageForIcon=imageRecovery,notAnewFile=!1;break;default:imageForIcon=void 0}}function toggle(){var a=document.getElementById("time_selector");visible?(a.style.visibility="hidden",console.log("hi")):(a.style.visibility="visible",console.log("bye")),visible=!visible}function saveIt(){for(var a=document.getElementsByName("date"),b=[],c=!1,d=!1,e=0;e<a.length;e++)a[e].checked?(b[e]=!0,c=!0):b[e]=!1,console.log(b[e]);for(var f=document.getElementsByName("day"),g=0,e=0;e<f.length;e++)f[e].checked&&(g=f[e].value,d=!0),console.log(g+" days baby");var h=document.getElementById("hour").value;document.getElementById("ampm").value;"PM"==document.getElementById("ampm").value?12!=h&&(h=1*h+12):12==h&&(h=0);var i=document.getElementById("min").value,j=document.getElementById("title").value,k=h+":"+i;0==document.getElementById("myonoffswitch").checked&&(k=null),console.log(j+" p: "+b+" D: "+g+" t "+k);var l=createImage(),m={};(""===j||null===j)&&(m.missingTitle=String(Parse.User.current().id)),c||(m.missingWeeklyFreq=String(Parse.User.current().id)),d||(m.missingDayFreq=String(Parse.User.current().id)),void 0==l&&(m.missingImg=String(Parse.User.current().id)),isNotEmpty(m)&&Parse.Analytics.track("AddHabitError",m),""==j||null==j?alert("please put a habit name"):void 0==l?alert("Please select Image"):c?d?addHabit(j,b,Number(g),k,l):alert("please select daily frequency"):alert("please select weekly frequency")}function isNotEmpty(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function addHabit(a,b,c,d,e){var f=Parse.Object.extend("Habits"),g=new f;g.set("habitName",a),g.set("freqCount",0),g.set("freqDay",0),g.set("freqPerWeek",b),g.set("freqSet",c),g.set("freqSetMet",0),g.set("freqBest",0),g.set("notificationTime",d),g.set("icon",e),g.set("user",Parse.User.current()),g.setACL(new Parse.ACL(Parse.User.current())),g.save(null,{success:function(a){$(".success").show();var b={user:String(Parse.User.current())};Parse.Analytics.track("AddHabitSuccess",b),document.location.href="list.html"},error:function(a,b){var c={parseError:String(b)};Parse.Analytics.track("AddHabitError",c),$(".error").show()}})}function getIcons(){var a=Parse.Object.extend("Icons"),b=new Parse.Query(a);b.find({success:function(a){$(".success").show();for(var b=a.length,c=0;b>c;c++)icons[c]=a[c];alert("Successfully retrieved "+b)},error:function(a,b){$(".error").show()}})}function createImage(){var a=$("#upload")[0];console.log("ddeee"+a);var b=imageForIcon;if(console.log("icon"+b),notAnewFile)return b;if(void 0!=b){var c="photo.jpg",d=new Parse.File(c,b);return d}}function insertImage(a){var b=document.getElementById("inserticon"),c="onclick=selectImage('newicon') />";b.innerHTML=' 	<img id = "newicon"  class="icon" src='+a+" "+c+" "}function imageIsLoaded(a){$("#upload").attr("style","visibility: visibile;"),$("#icon4").attr("style","visiblility: visible;"),$("#icon4").attr("onclick","selectImage('icon4')"),insertImage(a.target.result),$("#icon4").css({border:"3px inset #999999"})}Parse.initialize("M0a7TBns2wo7HMdoULhac86LMnpjPothTzst4a1T","cV4npfDqaSpeTLSwwyhYxg8CvoWqJc0QjXlM37c0");var icons=[],images=[];(window.onpopstate=function(){getDefaultImages()})();var fields={visited:String(Parse.User.current())};Parse.Analytics.track("addPage",fields);var notAnewFile=!1,visible=!0,imageForIcon,imageRecovery;$(function(){$(":file").change(function(){if(this.files&&this.files[0]){var a=new FileReader,b=document.getElementById("upload").files[0].size,c=document.getElementById("upload").files[0].type;b>2048e3?document.getElementById("iconerror").innerHTML="Habit icon file size must not exceed 2mb, size is "+b+" bytes":"image/"!=c.substring(0,6)?document.getElementById("iconerror").innerHTML="Habit icon must be an image file (jpeg, png, bmp, gif, etc.)":(document.getElementById("iconerror").innerHTML="",a.onload=imageIsLoaded,console.log("dyb dyb"+this.files[0]),imageForIcon=this.files[0],imageRecovery=this.files[0],a.readAsDataURL(this.files[0]))}})});